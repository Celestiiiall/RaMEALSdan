<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#081018" />
    <meta name="color-scheme" content="dark" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Sufra" />
    <title>Sufra</title>
    <link rel="manifest" href="manifest.webmanifest?v=16" />
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png?v=16" />
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png?v=16" />
    <link rel="icon" type="image/svg+xml" href="icons/icon.svg?v=16" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=16" />
  </head>
  <body>
    <div class="night-scene" aria-hidden="true">
      <span class="moon"></span>
      <span class="star star-a"></span>
      <span class="star star-b"></span>
      <span class="star star-c"></span>
      <span class="star star-d"></span>
      <span class="star star-e"></span>
      <span class="lantern lantern-left"><span class="lantern-glow"></span></span>
      <span class="lantern lantern-mid"><span class="lantern-glow"></span></span>
      <span class="lantern lantern-right"><span class="lantern-glow"></span></span>
    </div>
    <main class="app-shell">
      <header class="hero">
        <p class="eyebrow">Ramadan planner</p>
        <h1>Sufra</h1>
        <p class="subtitle">
          Build dish lists, choose how many items you want per category, and get
          random combos where each dish avoids repeating until its category pool
          is used.
        </p>
      </header>

      <section class="panel combo-panel">
        <div class="section-head">
          <h2>Tonight's Sufra Combo</h2>
          <p id="combo-stats" class="stats"></p>
        </div>

        <div class="combo-grid">
          <article class="combo-card">
            <p>Main courses</p>
            <h3 id="output-mains">-</h3>
          </article>
          <article class="combo-card">
            <p>Side dishes</p>
            <h3 id="output-sides">-</h3>
          </article>
          <article class="combo-card">
            <p>Desserts</p>
            <h3 id="output-desserts">-</h3>
          </article>
          <article class="combo-card">
            <p>Soups</p>
            <h3 id="output-soups">-</h3>
          </article>
          <article class="combo-card">
            <p>Salads</p>
            <h3 id="output-salads">-</h3>
          </article>
        </div>

        <div class="serving-panel">
          <p class="serving-title">Choose included categories and servings</p>
          <div class="serving-grid">
            <article id="serving-wrap-mains" class="serving-control">
              <div class="serving-head">
                <span>Main courses</span>
                <label class="toggle-label" for="toggle-mains">
                  <input id="toggle-mains" class="include-toggle" type="checkbox" />
                  Include
                </label>
              </div>
              <input id="count-mains" class="count-input" type="number" min="1" max="6" step="1" />
            </article>
            <article id="serving-wrap-sides" class="serving-control">
              <div class="serving-head">
                <span>Side dishes</span>
                <label class="toggle-label" for="toggle-sides">
                  <input id="toggle-sides" class="include-toggle" type="checkbox" />
                  Include
                </label>
              </div>
              <input id="count-sides" class="count-input" type="number" min="1" max="6" step="1" />
            </article>
            <article id="serving-wrap-desserts" class="serving-control">
              <div class="serving-head">
                <span>Desserts</span>
                <label class="toggle-label" for="toggle-desserts">
                  <input id="toggle-desserts" class="include-toggle" type="checkbox" />
                  Include
                </label>
              </div>
              <input id="count-desserts" class="count-input" type="number" min="1" max="6" step="1" />
            </article>
            <article id="serving-wrap-soups" class="serving-control">
              <div class="serving-head">
                <span>Soups</span>
                <label class="toggle-label" for="toggle-soups">
                  <input id="toggle-soups" class="include-toggle" type="checkbox" />
                  Include
                </label>
              </div>
              <input id="count-soups" class="count-input" type="number" min="1" max="6" step="1" />
            </article>
            <article id="serving-wrap-salads" class="serving-control">
              <div class="serving-head">
                <span>Salads</span>
                <label class="toggle-label" for="toggle-salads">
                  <input id="toggle-salads" class="include-toggle" type="checkbox" />
                  Include
                </label>
              </div>
              <input id="count-salads" class="count-input" type="number" min="1" max="6" step="1" />
            </article>
          </div>
        </div>

        <div class="actions">
          <button id="generate-btn" class="button primary">Generate Meal</button>
          <button id="copy-btn" class="button secondary">Copy Combo</button>
          <button id="reset-cycle-btn" class="button ghost">Reset No-Repeat Pools</button>
        </div>

        <p id="status" class="status" aria-live="polite"></p>
      </section>

      <section class="panel dishes-panel">
        <div class="section-head">
          <h2>Your Dishes</h2>
          <p class="stats">Auto-saved instantly. You can also share and restore saves easily.</p>
        </div>

        <div class="actions storage-actions">
          <button id="share-save-btn" type="button" class="button secondary">Share/Copy Save</button>
          <button id="paste-restore-btn" type="button" class="button ghost">Paste Restore</button>
          <button id="export-btn" type="button" class="button ghost">Save File</button>
          <button id="import-btn" type="button" class="button ghost">Load File</button>
          <input id="import-file" type="file" accept="application/json" hidden />
        </div>
        <p id="save-meta" class="save-meta"></p>

        <div class="lists-grid">
          <article class="dish-column">
            <h3>Main courses</h3>
            <form id="form-mains" class="dish-form">
              <input
                id="input-mains"
                type="text"
                placeholder="e.g. Chicken Biryani"
                maxlength="60"
                autocomplete="off"
              />
              <button type="submit" class="button tiny">Add</button>
            </form>
            <ul id="list-mains" class="dish-list"></ul>
          </article>

          <article class="dish-column">
            <h3>Side dishes</h3>
            <form id="form-sides" class="dish-form">
              <input
                id="input-sides"
                type="text"
                placeholder="e.g. Samosa"
                maxlength="60"
                autocomplete="off"
              />
              <button type="submit" class="button tiny">Add</button>
            </form>
            <ul id="list-sides" class="dish-list"></ul>
          </article>

          <article class="dish-column">
            <h3>Desserts</h3>
            <form id="form-desserts" class="dish-form">
              <input
                id="input-desserts"
                type="text"
                placeholder="e.g. Kunafa"
                maxlength="60"
                autocomplete="off"
              />
              <button type="submit" class="button tiny">Add</button>
            </form>
            <ul id="list-desserts" class="dish-list"></ul>
          </article>

          <article class="dish-column">
            <h3>Soups</h3>
            <form id="form-soups" class="dish-form">
              <input
                id="input-soups"
                type="text"
                placeholder="e.g. Harira"
                maxlength="60"
                autocomplete="off"
              />
              <button type="submit" class="button tiny">Add</button>
            </form>
            <ul id="list-soups" class="dish-list"></ul>
          </article>

          <article class="dish-column">
            <h3>Salads</h3>
            <form id="form-salads" class="dish-form">
              <input
                id="input-salads"
                type="text"
                placeholder="e.g. Tabbouleh"
                maxlength="60"
                autocomplete="off"
              />
              <button type="submit" class="button tiny">Add</button>
            </form>
            <ul id="list-salads" class="dish-list"></ul>
          </article>
        </div>
      </section>

      <section class="panel history-panel">
        <div class="section-head">
          <h2>Recent Picks</h2>
          <button id="clear-history-btn" class="button ghost tiny-text">Clear</button>
        </div>
        <ol id="history-list" class="history-list"></ol>
      </section>
    </main>

    <script src="app.js?v=16"></script>
  </body>
</html>
